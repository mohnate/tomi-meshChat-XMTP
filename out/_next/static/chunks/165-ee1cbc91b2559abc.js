(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[165],{61622:function(e,n,t){"use strict";var r=t(50029),s=t(87794),a=t.n(s),i=t(67294),o=t(2852),u=t(61085),c=t(85893);n.Z=function(e){var n=e.address,t=e.className,s=(0,i.useState)(),l=s[0],d=s[1],f=(0,u.Z)(),p=f.lookupAddress,x=f.loading;return(0,i.useEffect)(function(){var e;(e=(0,r.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(n);case 2:d(e.sent);case 4:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[n,p]),(0,c.jsx)("span",{className:(0,o.AK)(t||"","font-mono",x?"animate-pulse":""),title:n,children:l||(0,o.sC)(n)})}},39631:function(e,n,t){"use strict";var r=t(50029),s=t(87794),a=t.n(s),i=t(67294),o=t(30710),u=t(61085),c=t(85893);n.Z=function(e){var n=e.peerAddress,t=(0,i.useState)(),s=t[0],l=t[1],d=(0,u.Z)(),f=d.getAvatarUrl,p=d.loading;return((0,i.useEffect)(function(){var e;(e=(0,r.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(n);case 2:l(e.sent);case 4:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[f,n]),p)?(0,c.jsx)("div",{className:"animate-pulse flex",children:(0,c.jsx)("div",{className:"rounded-full bg-gray-200 h-10 w-10"})}):s?(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"w-10 h-10 rounded-full border border-n-80"}),(0,c.jsx)("img",{className:"w-10 h-10 rounded-full z-10 -mt-10",src:s,alt:n})]}):(0,c.jsx)(o.Z,{seed:n.toLowerCase(),scale:5,size:8,className:"rounded-full"})}},77165:function(e,n,t){"use strict";t.d(n,{ri:function(){return z},M9:function(){return W},V:function(){return Z},PG:function(){return m}});var r=t(50029),s=t(87794),a=t.n(s),i=t(67294),o=t(11163),u=t(2852),c=t(61085),l=t(98519),d=t(85893),f=function(e){var n,t=e.recipientWalletAddress,s=e.id,o=e.name,f=e.className,p=e.placeholder,x=e.onInputChange,v=(0,c.Z)().lookupAddress,m=(0,l.q)(function(e){return e.address}),h=(0,i.useRef)(null),g=(0,i.useState)(t||""),b=g[0],w=g[1],j=(0,l.q)(function(e){return e.conversations}),k=(0,l.q)(function(e){return e.setConversations}),N=(0,l.q)(function(e){return e.client}),y=function(){var e;null===(e=h.current)||void 0===e||e.focus()};(0,i.useEffect)(function(){t||(y(),w(""))},[t]),(0,i.useEffect)(function(){var e;(e=(0,r.Z)(a().mark(function e(){var n,r,s,i;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:if(!(t&&!(0,u.Uw)(t))){e.next=13;break}return e.next=5,v(t);case 5:return n=e.sent,e.next=8,null==N?void 0:N.conversations.newConversation(t);case 8:(r=e.sent)&&(j.set(t,r),k(new Map(j))),n?w(n):t&&w(t),e.next=22;break;case 13:if(!(b.startsWith("0x")&&42===b.length)){e.next=22;break}return e.next=16,null==N?void 0:N.conversations.newConversation(b);case 16:return(s=e.sent)&&(j.set(b,s),k(new Map(j))),e.next=20,v(b);case 20:(i=e.sent)&&w(i);case 22:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[b,t,v]);var M=t===m,C=(0,u.AK)("absolute","top-[4px] md:top-[2px]","left-[26px] md:left-[23px]","rounded-2xl","px-[5px] md:px-2","border","text-md","focus:outline-none","focus:ring-0","font-bold","font-mono","overflow-visible","text-center","text-transparent","select-none",M?"bg-bt-100":"bg-zinc-50",M?"border-bt-300":"border-gray-300"),S=(0,i.useCallback)((n=(0,r.Z)(a().mark(function e(n){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:w(n.target.value.trim()),x&&x(n);case 3:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),[x]);return(0,d.jsxs)("div",{className:"relative mb-5",children:[t&&b&&(0,d.jsx)("span",{className:C,children:b}),(0,d.jsx)("input",{id:s,name:o,className:(0,u.AK)(f||"","absolute top-0 left-0",M?"!text-b-600":"",t?"!text-md font-bold top-[2px] left-1":""),placeholder:p,onChange:S,value:b,ref:h,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"})]})},p=t(68121),x=function(e){var n=e.onClick;return(0,d.jsxs)("button",{type:"button",className:"flex items-center justify-center h-10 w-6 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:n,children:[(0,d.jsx)("span",{className:"sr-only",children:"Close message view"}),(0,d.jsx)(p.Z,{className:"h-5 w-5 stroke-n-600","aria-hidden":"true"})]})},v={InvalidEntry:0,ValidEntry:1,FindingEntry:2,Submitted:3,NotOnNetwork:4},m=function(){var e,n,t,s,p,m=(0,c.Z)(),h=m.lookupAddress,g=m.resolveName,b=(0,l.q)(function(e){return e.client}),w=(0,o.useRouter)(),j=(0,u.pm)(w),k=(0,i.useState)(v.InvalidEntry),N=k[0],y=k[1],M=(0,i.useState)(!1),C=M[0],S=M[1],A=(0,i.useCallback)((e=(0,r.Z)(a().mark(function e(n){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(null==b?void 0:b.canMessage(n))||!1);case 1:case"end":return e.stop()}},e)})),function(n){return e.apply(this,arguments)}),[b]),Z=(n=(0,r.Z)(a().mark(function e(n){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:w.push(n?"/dm/".concat(n):"/dm/");case 1:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),E=(0,i.useCallback)(function(){w.push("/")},[w]),_=(t=(0,r.Z)(a().mark(function e(n,t){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(n);case 2:if(!e.sent){e.next=8;break}Z(n),t.blur(),y(v.Submitted),e.next=9;break;case 8:y(v.NotOnNetwork);case 9:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)});(0,i.useEffect)(function(){var e,n=(e=(0,r.Z)(a().mark(function e(n){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(n);case 2:S(!!e.sent);case 4:case"end":return e.stop()}},e)})),function(n){return e.apply(this,arguments)});j&&!(0,u.Uw)(j)?(y(v.Submitted),n(j)):y(v.InvalidEntry)},[h,j]);var I=(0,i.useCallback)((s=(0,r.Z)(a().mark(function e(n,t){var r,s,i,o;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=n.target,s=n.target,!(i=t||r.recipient.value).endsWith("eth")){e.next=17;break}return y(v.FindingEntry),e.next=8,g(i);case 8:if(!(o=e.sent)){e.next=14;break}return e.next=12,_(o,s);case 12:e.next=15;break;case 14:y(v.InvalidEntry);case 15:e.next=20;break;case 17:if(!(i.startsWith("0x")&&42===i.length)){e.next=20;break}return e.next=20,_(i,s);case 20:case"end":return e.stop()}},e)})),function(e,n){return s.apply(this,arguments)}),[g]),T=(0,i.useCallback)((p=(0,r.Z)(a().mark(function e(n){var t;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.target,"/dm"!==w.pathname&&w.push("/dm"),t.value.endsWith(".eth")||t.value.startsWith("0x")&&42===t.value.length?I(n,t.value):y(v.InvalidEntry);case 3:case"end":return e.stop()}},e)})),function(e){return p.apply(this,arguments)}),[I,w]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"md:hidden flex items-center ml-3",children:(0,d.jsx)(x,{onClick:E})}),(0,d.jsxs)("div",{className:"flex-1 flex-col shrink justify-center flex bg-zinc-50 md:border-b md:border-gray-200 md:px-4 md:pb-[2px]",children:[(0,d.jsxs)("form",{className:"w-full flex pl-2 md:pl-0 h-8 pt-1",action:"#",method:"GET",onSubmit:I,children:[(0,d.jsx)("label",{htmlFor:"recipient-field",className:"sr-only",children:"Recipient"}),(0,d.jsxs)("div",{className:"relative w-full text-n-300 focus-within:text-n-600",children:[(0,d.jsx)("div",{className:"absolute top-1 left-0 flex items-center pointer-events-none text-md md:text-sm font-medium md:font-semibold",children:"To:"}),(0,d.jsx)(f,{recipientWalletAddress:j,id:"recipient-field",className:"block w-[95%] pl-7 pr-3 pt-[3px] md:pt-[2px] md:pt-[1px] bg-transparent caret-n-600 text-n-600 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-0 focus:border-transparent text-lg font-mono",name:"recipient",onInputChange:T}),(0,d.jsx)("button",{type:"submit",className:"hidden"})]})]}),N===v.Submitted?(0,d.jsx)("div",{className:"text-md text-n-300 text-sm font-mono ml-10 md:ml-8 pb-1 md:pb-[1px]",children:C?j:(0,d.jsx)("br",{})}):(0,d.jsxs)("div",{className:"text-sm md:text-xs text-n-300 ml-[29px] pl-2 md:pl-0 pb-1 md:pb-[3px]",children:[N===v.NotOnNetwork&&"Recipient is not on the XMTP network",N===v.FindingEntry&&"Finding ENS domain...",N===v.InvalidEntry&&"Please enter a valid wallet address",N===v.ValidEntry&&(0,d.jsx)("br",{})]})]})]})},h=t(95872),g=t(39631),b=t(61622),w=function(e){var n=e.address,t=n===(0,l.q)(function(e){return e.address});return(0,d.jsx)(b.Z,{className:(0,u.AK)("rounded-2xl","border","text-md","mr-2","px-2","py-1","font-bold",t?"bg-bt-100 text-b-600":"bg-zinc-50",t?"border-bt-300":"border-gray-300"),address:n})},j=t(47734),k=t.n(j),N=function(){var e=(0,i.useState)([0,0]),n=e[0],t=e[1];return(0,i.useLayoutEffect)(function(){function e(){t([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}},[]),n},y=function(e){var n,t=e.message;return(0,d.jsxs)("div",{className:"flex items-start mx-auto mb-4",children:[(0,d.jsx)(g.Z,{peerAddress:t.senderAddress}),(0,d.jsxs)("div",{className:"ml-2 max-w-[95%]",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(w,{address:t.senderAddress}),(0,d.jsx)("span",{className:"text-sm font-normal place-self-end text-n-300 text-md uppercase",children:(0,u.mr)(t.sent)})]}),(0,d.jsx)("span",{className:"block text-md px-2 mt-2 text-black font-normal break-words",children:t.error?"Error: ".concat(null===(n=t.error)||void 0===n?void 0:n.message):(0,d.jsx)(h.ZP,{text:t.content||""})})]})]})},M=function(e){var n=e.children;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"grow h-0.5 bg-gray-300/25"}),n,(0,d.jsx)("div",{className:"grow h-0.5 bg-gray-300/25"})]})},C=function(e){var n=e.date;return(0,d.jsx)("div",{className:"flex align-items-center items-center pb-8 pt-4",children:(0,d.jsx)(M,{children:(0,d.jsx)("span",{className:"mx-11 flex-none text-gray-300 text-sm font-bold",children:null==n?void 0:n.toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric"})})})})},S=function(){return(0,d.jsx)("div",{className:"flex align-items-center justify-center pb-4 mt-4",children:(0,d.jsx)("span",{className:"text-gray-300 text-sm font-semibold",children:"This is the beginning of the conversation"})})},A=function(){return(0,d.jsx)("div",{className:"p-1 mt-6 text-center text-gray-300 font-bold text-sm",children:"Loading Messages..."})},Z=i.memo(function(e){var n,t=e.messages,r=e.fetchNextMessages,s=e.hasMore,a=N();return(0,d.jsx)(k(),{dataLength:t.length,next:r,className:"flex flex-col-reverse overflow-y-auto pl-4",height:a[1]>700?"87vh":"83vh",inverse:!0,endMessage:(0,d.jsx)(S,{}),hasMore:s,loader:(0,d.jsx)(A,{}),children:null==t?void 0:t.map(function(e,t){var r,s,a=!!n&&(r=n,s=e.sent,(null==r?void 0:r.toDateString())!==(null==s?void 0:s.toDateString())),i=(0,d.jsxs)("div",{children:[(0,d.jsx)(y,{message:e}),a?(0,d.jsx)(C,{date:n}):null]},"".concat(e.id,"_").concat(t));return n=e.sent,i})})}),E=t(79022),_=t.n(E),I={src:"/_next/static/media/up-arrow-green.2cc7b8f9.svg",height:26,width:26},T={src:"/_next/static/media/up-arrow-grey.80b2d076.svg",height:26,width:26},q=t(25675),L=t.n(q),W=function(e){var n,t=e.onSend,s=(0,i.useState)(""),c=s[0],l=s[1],f=(0,o.useRouter)();(0,i.useEffect)(function(){return l("")},[f.query.recipientWalletAddr]);var p=(n=(0,r.Z)(a().mark(function e(n){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),c){e.next=3;break}return e.abrupt("return");case 3:return l(""),e.next=6,t(c);case 6:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)});return(0,d.jsx)("div",{className:(0,u.AK)("bg-white","flex","items-center"),children:(0,d.jsxs)("form",{className:(0,u.AK)("flex","m-2","w-full","border","py-2","pl-4","mr-3","drop-shadow-xl","mt-0",_().bubble),autoComplete:"off",onSubmit:p,children:[(0,d.jsx)("input",{type:"text",placeholder:"Type something...",className:(0,u.AK)("block","w-full","text-md","md:text-sm",_().input),name:"message",value:c,onChange:function(e){return l(e.currentTarget.value)},required:!0}),(0,d.jsx)("button",{type:"submit",className:_().arrow,children:c?(0,d.jsx)(L(),{src:I,alt:"send",height:32,width:32}):(0,d.jsx)(L(),{src:T,alt:"send",height:32,width:32})})]})})},P=t(36121),U=t(4346),D=function(e,n){var t,s=(0,l.q)(function(n){return n.convoMessages.get(e)}),o=(0,l.q)(function(n){return n.conversations.get(e)}),c=(0,l.q)(function(e){return e.addMessages}),d=(0,i.useState)(new Map),f=d[0],p=d[1];return(0,i.useEffect)(function(){var t;o&&(t=(0,r.Z)(a().mark(function t(){var r;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.messages({direction:U.SortDirection.SORT_DIRECTION_DESCENDING,limit:u.kY,endTime:n});case 2:(r=t.sent).length>0?(c(e,r),r.length<u.kY?(f.set(e,!1),p(new Map(f))):(f.set(e,!0),p(new Map(f)))):(f.set(e,!1),p(new Map(f)));case 4:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)})()},[o,e,n]),{convoMessages:s,hasMore:null!==(t=f.get(e))&&void 0!==t&&t}},O=function(e){var n;return{sendMessage:(0,i.useCallback)((n=(0,r.Z)(a().mark(function n(t){return a().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null==e?void 0:e.send(t);case 2:case"end":return n.stop()}},n)})),function(e){return n.apply(this,arguments)}),[e])}},z=i.memo(function(e){var n,t=e.recipientWalletAddr,r=(0,l.q)(function(e){return e.conversations}).get(t),s=(0,u.n2)(r),a=O(r).sendMessage,o=(0,i.useState)(new Map),c=o[0],f=o[1],p=D(s,c.get(s)),x=p.convoMessages,v=p.hasMore,m=(0,l.q)(function(e){return e.loadingConversations}),h=(0,i.useCallback)(function(){if(v&&Array.isArray(x)&&x.length>0&&s){var e=x[x.length-1].sent,n=c.get(s);(!n||e<=n)&&(c.set(s,e),f(new Map(c)))}},[s,v,x,c]),g=Number(null!==(n=null==x?void 0:x.length)&&void 0!==n?n:0)>0;return m&&!g?(0,d.jsx)(P.ZP,{headingText:"Loading messages...",subHeadingText:"Please wait a moment",isLoading:!0}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"bg-white h-[calc(100vh-7rem)]",children:(0,d.jsx)("div",{className:"h-full flex justify-between flex-col",children:(0,d.jsx)(Z,{fetchNextMessages:h,messages:null!=x?x:[],hasMore:v})})}),(0,d.jsx)(W,{onSend:a})]})})},36121:function(e,n,t){"use strict";var r=t(56091),s=t.n(r),a=t(85893),i=function(e){return e.isLoading?(0,a.jsxs)("div",{className:s()["lds-roller"],children:[(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{})]}):null};n.ZP=function(e){var n=e.headingText,t=e.subHeadingText,r=e.isLoading;return(0,a.jsx)("div",{className:"grid place-items-center h-full mt-2",children:(0,a.jsxs)("div",{className:"columns-1 text-center",children:[(0,a.jsx)(i,{isLoading:r}),n&&(0,a.jsx)("div",{className:"text-xl md:text-lg text-n-200 md:text-n-300 font-bold",children:n}),(0,a.jsx)("div",{className:"text-lx md:text-md text-n-200 font-normal",children:t})]})})}},2852:function(e,n,t){"use strict";function r(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter(Boolean).join(" ")}t.d(n,{kY:function(){return N},Uw:function(){return o},AK:function(){return r},p6:function(){return a},mr:function(){return i},pm:function(){return l},Sf:function(){return m},n2:function(){return c},dU:function(){return f},dI:function(){return p},XS:function(){return w},sC:function(){return u},us:function(){return j},HH:function(){return x},$G:function(){return s},xO:function(){return k}});var s=function(e,n){return e&&e.length>n?"".concat(e.substring(0,n-3),"..."):e},a=function(e){return e?e.toLocaleDateString("en-US"):""},i=function(e){return e?e.toLocaleTimeString(void 0,{hour12:!0,hour:"numeric",minute:"2-digit"}):""},o=function(e){return e.includes("eth")},u=function(e){return e.length>10&&e.startsWith("0x")?"".concat(e.substring(0,6),"...").concat(e.substring(e.length-4)):e},c=function(e){var n,t,r;return null!=e&&null!==(n=e.context)&&void 0!==n&&n.conversationId?"".concat(null==e?void 0:e.peerAddress,"/").concat(null==e?void 0:null===(t=e.context)||void 0===t?void 0:t.conversationId):null!==(r=null==e?void 0:e.peerAddress)&&void 0!==r?r:""},l=function(e){return Array.isArray(e.query.recipientWalletAddr)?e.query.recipientWalletAddr[0]:e.query.recipientWalletAddr},d=t(34155),f=function(){var e=d.env.NEXT_PUBLIC_XMTP_ENVIRONMENT;return"production"===e||"local"===e?e:"dev"},p=function(){return console.log("demo"),!0},x=function(){return"production"===f()?null:f().toLocaleUpperCase()},v=t(4147),m=function(){return v.u2+"/"+v.i8},h=t(48764).Buffer,g="binary",b=function(e){return"xmtp:".concat(f(),":keys:").concat(e)},w=function(e){var n=localStorage.getItem(b(e));return n?h.from(n,g):null},j=function(e,n){localStorage.setItem(b(e),h.from(n).toString(g))},k=function(e){localStorage.removeItem(b(e))},N=20},61085:function(e,n,t){"use strict";var r=t(50029),s=t(87794),a=t.n(s),i=t(67294),o=t(98519),u=new Map,c=new Map,l=new Map;n.Z=function(){var e,n,t,s=(0,i.useState)(!1),d=s[0],f=s[1],p=(0,o.q)(function(e){return e.provider}),x=(0,i.useCallback)((e=(0,r.Z)(a().mark(function e(n){var t;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.has(n)){e.next=2;break}return e.abrupt("return",c.get(n));case 2:return f(!0),e.next=5,null==p?void 0:p.getNetwork();case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:if(!(1!==Number(e.t0.chainId))){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.next=14,null==p?void 0:p.resolveName(n);case 14:if(e.t1=e.sent,e.t1){e.next=17;break}e.t1=void 0;case 17:return t=e.t1,c.set(n,t),f(!1),e.abrupt("return",t);case 21:case"end":return e.stop()}},e)})),function(n){return e.apply(this,arguments)}),[p]),v=(0,i.useCallback)((n=(0,r.Z)(a().mark(function e(n){var t;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.has(n)){e.next=2;break}return e.abrupt("return",u.get(n));case 2:return f(!0),e.next=5,null==p?void 0:p.getNetwork();case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:if(!(1!==Number(e.t0.chainId))){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.next=14,null==p?void 0:p.lookupAddress(n);case 14:if(e.t1=e.sent,e.t1){e.next=17;break}e.t1=void 0;case 17:return t=e.t1,u.set(n,t),f(!1),e.abrupt("return",t);case 21:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),[p]),m=(0,i.useCallback)((t=(0,r.Z)(a().mark(function e(n){var t,r;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n);case 2:if(!(t=e.sent)){e.next=16;break}if(!l.has(t)){e.next=6;break}return e.abrupt("return",l.get(t));case 6:return f(!0),e.next=9,null==p?void 0:p.getAvatar(t);case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0=void 0;case 12:return r=e.t0,l.set(t,r),f(!1),e.abrupt("return",r);case 16:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[p]);return{resolveName:x,lookupAddress:v,getAvatarUrl:m,loading:d}}},98519:function(e,n,t){"use strict";t.d(n,{q:function(){return i}});var r=t(76687),s=t(64529),a=function(e){var n=(0,r.Z)(Array.from(new Map(e.map(function(e){return[e.id,e]})).values()));return n.sort(function(e,n){var t,r,s,a;return(null!==(t=null===(r=n.sent)||void 0===r?void 0:r.getTime())&&void 0!==t?t:0)-(null!==(s=null===(a=e.sent)||void 0===a?void 0:a.getTime())&&void 0!==s?s:0)}),null!=n?n:[]},i=(0,s.ZP)(function(e){return{signer:void 0,setSigner:function(n){return e(function(){return{signer:n}})},address:void 0,setAddress:function(n){return e(function(){return{address:n}})},provider:void 0,setProvider:function(n){return e(function(){return{provider:n}})},client:void 0,setClient:function(n){return e(function(){return{client:n}})},conversations:new Map,setConversations:function(n){return e(function(){return{conversations:n}})},loadingConversations:!1,setLoadingConversations:function(n){return e(function(){return{loadingConversations:n}})},convoMessages:new Map,previewMessages:new Map,setPreviewMessage:function(n,t){return e(function(e){var r=new Map(e.previewMessages);return r.set(n,t),{previewMessages:r}})},setPreviewMessages:function(n){return e(function(){return{previewMessages:n}})},addMessages:function(n,t){var s=0;return e(function(e){var i=new Map(e.convoMessages),o=e.convoMessages.get(n)||[],u=a([].concat((0,r.Z)(o),(0,r.Z)(t)));return(s=u.length-o.length)?(i.set(n,u),{convoMessages:i}):{convoMessages:e.convoMessages}}),s},reset:function(){return e(function(){return{client:void 0,conversations:new Map,convoMessages:new Map,previewMessages:new Map,address:void 0,signer:void 0}})}}})},56091:function(e){e.exports={"lds-roller":"Loader_lds-roller__T1pce"}},79022:function(e){e.exports={bubble:"MessageComposer_bubble__WphSy",input:"MessageComposer_input__rSJ7B",arrow:"MessageComposer_arrow__7cU2I"}},4147:function(e){"use strict";e.exports=JSON.parse('{"u2":"xmtp-react-chat-example","i8":"1.0.0","HO":{"Ay":"^7.2.1"}}')}}]);